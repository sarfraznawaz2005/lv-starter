/* disabler.js - Copyright 2015 Gary Green. Licensed under the Apache License, Version 2.0 */function Disabler(t,i){this.$element=$(t),this.setOptions(i),this.bindEvents()}Disabler.prototype={defaults:{timeout:2e4,html:void 0},setOptions:function(t){this.options=$.extend({},this.defaults,t);var i=this.$element.data("disabler");void 0===t.html&&i.length&&(this.options.html=i)},bindEvents:function(){this.$element.on("click",$.proxy(this.debounce,this))},debounce:function(){setTimeout($.proxy(function(){this.disable()},this),0),this.timer=setTimeout($.proxy(function(){this.enable()},this),this.options.timeout)},getHtml:function(){var t=this.options.html;return $.isFunction(t)&&(t=t.call(this,this.$element)),t},disable:function(){this.$element.prop("disabled",!0);var t=this.getHtml();void 0!==t&&(this.oldHtml=this.$element.html(),this.$element.html(t))},enable:function(){this.timer&&clearTimeout(this.timer),this.$element.prop("disabled",!1).html(this.oldHtml),this.oldHtml=""}},$.fn.disabler=function(t){t=t||{};var i="ggdisabler";return $(this).each(function(){var e=$(this);e.data(i)||e.data(i,new Disabler(this,t))})};